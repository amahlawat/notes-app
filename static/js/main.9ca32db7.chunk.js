(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),c=a(21),i=a.n(c),o=(a(28),a(9)),l=a(2),d=a(7),u=a(8),p=a(11),j=a(10),h=(a(29),function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.onclick=function(t){var a=document.getElementById("appModal");t.target==a&&e.props.callbackModal("close","")}}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{id:"appModal",className:"modal",children:Object(s.jsxs)("div",{className:"modal-content",children:[Object(s.jsx)("span",{className:"close",onClick:function(){return e.props.callbackModal("close","")},children:"\xd7"}),Object(s.jsx)("h3",{className:"text-center",children:"Task Details"}),Object(s.jsxs)("div",{className:"task-body",children:[Object(s.jsxs)("h4",{children:["Id - ",Object(s.jsx)("span",{id:"modal-id"}),this.props.data.id]}),Object(s.jsxs)("h4",{children:["Heading - ",Object(s.jsx)("span",{id:"modal-heading"}),this.props.data.heading]}),Object(s.jsxs)("p",{children:["Description - ",Object(s.jsx)("span",{id:"modal-description"}),this.props.data.description]}),Object(s.jsx)("button",{className:"function-button",children:Object(s.jsx)(o.b,{to:"/update/".concat(this.props.data.id),children:"Edit"})}),Object(s.jsx)("button",{className:"danger-button",onClick:function(){return e.props.callbackModal("delete",e.props.data.id)},children:"Delete"})]})]})})}}]),a}(r.a.Component)),b=(a(35),function(e){if(""!=e){e=e.split("");for(var t=[],a=0;a<100;a++)t.push(e[a]);return t.join("").concat("...")}return""}),f=function(e){return Object(s.jsxs)("div",{className:"single-note",id:e.note.id,children:[Object(s.jsx)("p",{className:"single-note-heading",children:e.note.heading.toUpperCase()}),Object(s.jsx)("p",{className:"single-note-description",children:b(e.note.description)}),Object(s.jsx)("button",{className:"function-button",onClick:function(){return e.clickHandler(e.note)},children:"View"})]})},m=(a(36),function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(d.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={isModalShown:!1,modalData:null,dragId:""},e.clickHandler=function(t){e.setState({isModalShown:!0,modalData:t})},e.callbackModal=function(t,a){if("close"===t)e.setState({isModalShown:!1});else if("delete"===t){var s=JSON.parse(localStorage.getItem("tasks-app")),n=-1;s.forEach((function(e,t){e.id===a&&(n=t)})),n>-1&&s.splice(n,1),document.getElementsByClassName("task-body")[0].innerHTML='Task id <span class="highlight">'.concat(a,'</span> is deleted successfully<span class="success-tick" />'),console.log(s)}},e.onDragStart=function(t){t.dataTransfer.effectAllowed="move",e.setState({dragId:t.target.getAttribute("id")})},e.onDrop=function(t){var a=t.target.getAttribute("dropid");if(localStorage.getItem("tasks-app")&&""!=e.state.dragId){var s=JSON.parse(localStorage.getItem("tasks-app")),n=-1,r=null;s.forEach((function(t,s){t.id.toString()===e.state.dragId.split("-")[1]&&(t.status=a,n=s,r=t)})),n>-1&&s.splice(n,1),null!=r&&s.unshift(r),localStorage.setItem("tasks-app",JSON.stringify(s))}t.dataTransfer.clearData(),e.forceUpdate()},e}return Object(u.a)(a,[{key:"onDragEnd",value:function(e){}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"render",value:function(){var e=this,t=JSON.parse(localStorage.getItem("tasks-app"));return Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)("div",{className:"tasks",children:[{type:"Selected For Development",status:"selected"},{type:"In Progress",status:"inprogress"},{type:"Done",status:"done"}].map((function(a){return Object(s.jsxs)("div",{className:"tasks-col",children:[Object(s.jsx)("p",{className:"tasks-type",children:a.type}),Object(s.jsxs)("div",{className:"tasks-list",children:[Object(s.jsx)("div",{dropid:a.status,className:"on-drop",onDragOver:e.onDragOver,onDrop:e.onDrop}),null!=t&&t.map((function(t){return Object(s.jsx)(r.a.Fragment,{children:t.status===a.status&&Object(s.jsx)("div",{id:"outerdiv-".concat(t.id),draggable:"true",onDragStart:e.onDragStart,onDragEnd:e.onDragEnd,children:Object(s.jsx)(f,{clickHandler:e.clickHandler,note:t})})},t.id)}))]})]},"status-div-".concat(a.status))}))}),this.state.isModalShown&&Object(s.jsx)(h,{data:this.state.modalData,callbackModal:this.callbackModal,history:this.props.history})]})}}]),a}(r.a.Component)),g=a(15),O=a(13),v=(a(37),function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).validation=function(){var e=!0,t={headingError:"",descriptionError:""};return""===s.headingInputRef.value&&(t.headingError="please add heading",e=!1),""===s.descriptionInputRef.value&&(t.descriptionError="please add description",e=!1),t.hasError=!e,s.setState(Object(g.a)({},t)),e},s.clearForm=function(){s.headingInputRef.value="",s.descriptionInputRef.value="",s.setState({headingError:"",descriptionError:"",hasError:!1,successMessage:""})},s.headingInputRef=r.a.createRef(),s.descriptionInputRef=r.a.createRef(),s.formHandler=s.formHandler.bind(Object(O.a)(s)),s.formInterval=null,s.state={headingError:"",descriptionError:"",hasError:!1,successMessage:""},s}return Object(u.a)(a,[{key:"componentWillUnmount",value:function(){}},{key:"formHandler",value:function(e){if(e.preventDefault(),this.validation()){var t=[];localStorage.getItem("tasks-app")&&(t=JSON.parse(localStorage.getItem("tasks-app")));var a={id:(new Date).getTime(),heading:this.headingInputRef.value,description:this.descriptionInputRef.value,status:"selected"};t.push(a),localStorage.setItem("tasks-app",JSON.stringify(t)),this.setState({successMessage:"data submitted"})}}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"create",children:Object(s.jsxs)("form",{onSubmit:this.formHandler,children:[Object(s.jsx)("h3",{className:"heading",children:"Create a New Task"}),Object(s.jsxs)("ul",{className:"wrapper",children:[Object(s.jsxs)("li",{className:"form-row",children:[Object(s.jsx)("label",{children:"Heading"}),Object(s.jsx)("br",{}),Object(s.jsx)("textarea",{rows:"3",cols:"50",ref:function(t){return e.headingInputRef=t}})]}),Object(s.jsxs)("li",{className:"form-row",children:[Object(s.jsx)("label",{children:"Description"}),Object(s.jsx)("textarea",{rows:"4",cols:"100",ref:function(t){return e.descriptionInputRef=t}})]}),this.state.hasError&&Object(s.jsx)("li",{className:"form-row",children:Object(s.jsxs)("div",{className:"error",children:[this.state.headingError," ",this.state.descriptionError]})}),this.state.successMessage&&Object(s.jsx)("li",{className:"form-row",children:Object(s.jsx)("div",{className:"success",children:this.state.successMessage})}),Object(s.jsxs)("li",{className:"form-row btn-row",children:[Object(s.jsx)("button",{className:"blue-button",type:"button",onClick:this.clearForm,children:"Clear"}),Object(s.jsx)("button",{className:"blue-button",type:"submit",children:"Submit"})]})]})]})})}}]),a}(r.a.Component)),x=(a(38),function(){return Object(s.jsxs)("div",{className:"header",children:[Object(s.jsx)(o.c,{to:"/",children:"Notes App"}),Object(s.jsx)(o.c,{to:"/create",className:"create-navlink",children:Object(s.jsx)("div",{className:"create-btn",children:"Create +"})})]})}),k=function(){return Object(s.jsx)("div",{className:"footer",children:"developed in react"})},N=(a(39),a.p,function(e){Object(p.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(d.a)(this,a),(s=t.call(this,e)).validation=function(){var e=!0,t={headingError:"",descriptionError:""};return""===s.headingInputRef.value&&(t.headingError="please add heading",e=!1),""===s.descriptionInputRef.value&&(t.descriptionError="please add description",e=!1),t.hasError=!e,s.setState(Object(g.a)({},t)),e},s.clearForm=function(){s.headingInputRef.value="",s.descriptionInputRef.value="",s.setState({headingError:"",descriptionError:"",hasError:!1,successMessage:""})},s.headingInputRef=r.a.createRef(),s.descriptionInputRef=r.a.createRef(),s.formHandler=s.formHandler.bind(Object(O.a)(s)),s.formInterval=null,s.state={headingError:"",descriptionError:"",hasError:!1,successMessage:"",failureMessage:"",taskId:"",isLoading:!1},s}return Object(u.a)(a,[{key:"componentDidMount",value:function(){if(""!=this.props.location.pathname.split("/")[2]){this.setState({taskId:this.props.location.pathname.split("/")[2]}),console.log(this.props.location.pathname.split("/")[2]);var e=this.props.location.pathname.split("/")[2],t=JSON.parse(localStorage.getItem("tasks-app"));if(null!=t){var a=t.filter((function(t){return t.id.toString()===e}));void 0!=a[0]&&(this.headingInputRef.value=a[0].heading,this.descriptionInputRef.value=a[0].description)}}}},{key:"componentWillUnmount",value:function(){}},{key:"formHandler",value:function(e){var t=this;if(e.preventDefault(),this.setState({isLoading:!0}),this.validation()){var a=[];localStorage.getItem("tasks-app")&&(a=JSON.parse(localStorage.getItem("tasks-app")));var s=!1;a.forEach((function(e){e.id.toString()===t.state.taskId&&(s=!0,e.updatedDate=new Date,e.heading=t.headingInputRef.value,e.description=t.descriptionInputRef.value)})),localStorage.setItem("tasks-app",JSON.stringify(a)),s?this.setState({successMessage:"data updated"}):this.setState({failureMessage:"task id does not exist"})}setTimeout((function(){t.setState({isLoading:!1})}),2e3)}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"create",children:Object(s.jsxs)("form",{onSubmit:this.formHandler,children:[Object(s.jsxs)("h3",{className:"heading",children:["Update Task Id ",this.state.taskId]}),Object(s.jsxs)("ul",{className:"wrapper",children:[Object(s.jsxs)("li",{className:"form-row",children:[Object(s.jsx)("label",{children:"Heading"}),Object(s.jsx)("br",{}),Object(s.jsx)("textarea",{rows:"3",cols:"50",ref:function(t){return e.headingInputRef=t}})]}),Object(s.jsxs)("li",{className:"form-row",children:[Object(s.jsx)("label",{children:"Description"}),Object(s.jsx)("textarea",{rows:"4",cols:"100",ref:function(t){return e.descriptionInputRef=t}})]}),this.state.hasError&&Object(s.jsx)("li",{className:"form-row",children:Object(s.jsxs)("div",{className:"error",children:[this.state.headingError," ",this.state.descriptionError]})}),this.state.successMessage&&Object(s.jsx)("li",{className:"form-row",children:Object(s.jsx)("div",{className:"success",children:this.state.successMessage})}),this.state.failureMessage&&Object(s.jsx)("li",{className:"form-row",children:Object(s.jsx)("div",{className:"error",children:this.state.failureMessage})}),Object(s.jsxs)("li",{className:"form-row btn-row",children:[Object(s.jsx)("button",{className:"blue-button",type:"button",onClick:this.clearForm,children:"Clear"}),this.state.isLoading?Object(s.jsx)("img",{src:"",alt:"loading...",className:"loader"}):Object(s.jsx)("button",{className:"blue-button",type:"submit",children:"Update"})]})]})]})})}}]),a}(r.a.Component)),I=Object(l.f)(N);function S(){return Object(s.jsxs)(o.a,{children:[Object(s.jsx)(x,{}),Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{exact:!0,path:"/",children:Object(s.jsx)(m,{})}),Object(s.jsx)(l.a,{exact:!0,path:"/create",children:Object(s.jsx)(v,{})}),Object(s.jsx)(l.a,{path:"/update/:id",children:Object(s.jsx)(I,{})}),Object(s.jsx)(l.a,{render:function(){return Object(s.jsx)("div",{children:"404"})}})]}),Object(s.jsx)(k,{})]})}a(40);var E=function(){return Object(s.jsx)(S,{})},y=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,42)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(E,{})}),document.getElementById("root")),y()}},[[41,1,2]]]);
//# sourceMappingURL=main.9ca32db7.chunk.js.map